<html>

<head>
	<script defer async src="scripts/main.js"></script>
	<link rel="stylesheet" href="css/main.css" />
	<script src="scripts/webvr-polyfill.js"></script>
	<script src="scripts/aframe.min.js"></script>
	<script src="scripts/aframe-eventset-component.min.js"></script>
	<script src="scripts/aframe-template-component.min.js"></script>
	<script src="scripts/components/automove.js"></script>

	
	<script src="scripts/aframe-curve-component.min.js"></script>
	<script src="scripts/aframe-alongpath-component.min.js"></script>
	
	
	<!-- <script src="scripts/components/move-to-portal.js"></script> -->
	<!-- <script src="scripts/aframe-inspector.min.js"></script> -->

	<!-- <script src="https://unpkg.com/aframe-inspector@0.8.x/dist/aframe-inspector.min.js"></script> -->
	<!-- <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script> -->
	<!-- <script src="https://unpkg.com/aframe-environment-component@1.0.0/dist/aframe-environment-component.min.js"></script> -->
	<!-- <script src="https://unpkg.com/aframe-animation-component@3.2.1/dist/aframe-animation-component.min.js"></script> -->
	<!-- <script src="gpoly.js"></script> -->

</head>

<body>
	<section class="intro">
		<div class="welcome">
			<p> Tap to start! </p>	
			<button class="welcome__startbutton">Start</button>
	</div>
	</section>
	
	<section class="countdown">
		<div class="counter">
		<span class="counter__left counter__timer">10</span>
		<span class="counter__right counter__timer">10</span>
	</div>
	</section>

	<section class="scene">
		<a-scene background="color:#ECECEC">
			<a-animation attribute="background.color" easing="linear" dur="60000" from="#fffce4" to="#ffbe78"
				direction="alternate" repeat="indefinite"></a-animation>

			<!-- assets -->
			<a-assets>
				<audio id="click-sound" src="audio/click.ogg"></audio>
				<img id="city" src="assets/background.jpg">
				<audio id="music-background" src="assets/music/background.mp3" preload="auto"></audio>
			   
				<a-asset-item id="scene-obj" src="assets/greek-temple.obj"></a-asset-item>
				<a-asset-item id="scene-mtl" src="assets/greek-temple.mtl"></a-asset-item>

				<img id="person" src="assets/person.png">

			</a-assets>

			 

			<a-curve id="track1">
					<a-curve-point position="-2 2 -3"></a-curve-point>
					<a-curve-point position="0 1 -3" rotation="0 90 0"></a-curve-point>
					<a-curve-point position="2 2 -3" rotation="0 0 90"></a-curve-point>
				  </a-curve>
				  
				  <a-box alongpath="curve: #track1;loop:true; rotate:true"></a-box>


			<!-- <a-entity id="ambient" light="type:ambient;intensity:0.26;distance:6.02;penumbra:0.37" position="0 0 -10" rotation="-90 0 0"></a-entity> -->

			<a-entity position="0 0 -2.5">

				<a-entity id="room" obj-model="obj: #scene-obj; " shadow=""></a-entity>

				<a-entity id="person-obj" scale="0.730 1 1" position="0.194 1.059 0.000" shadow="" geometry="depth:0.1"
					material="src:#person;alphaTest:0.78"></a-entity>



				<a-entity id="spot" light="castShadow: true; type: spot; intensity: 4; distance: 10; penumbra: 1"
					position="0 2.62924 -13.3921" rotation="0.01 0 180">
					<a-animation attribute="light.intensity" dur="10000" from="0" to="3" direction="alternate"
						repeat="indefinite"></a-animation>
				</a-entity>


				<a-entity id="softbox" light="castShadow:true;type:spot;distance:7.38;angle:50;decay:2.59;penumbra:1"
					position="-1.37014 1.34239 0.57814"
					rotation="-38.512504115308545 -73.94650599737918 172.0512044686544">
				</a-entity>

				<a-entity id="zon" light="castShadow:true" position="-10 4.5 -6">
					<a-animation attribute="position" easing="linear" dur="60000" from="-10 7 -6" to="10 2 -6"
						direction="alternate" repeat="indefinite"></a-animation>
					<a-animation attribute="light.color" easing="linear" dur="60000" from="#fffce4" to="#ffbe78"
						direction="alternate" repeat="indefinite"></a-animation>
					<a-animation attribute="light.intensity" easing="linear" dur="60000" from="1" to="0.7"
						direction="alternate" repeat="indefinite"></a-animation>
				</a-entity>
			</a-entity>

			<!-- camera -->
			<!-- <a-entity automove> -->

			<!-- De camera moet op  0 0 0 blijven staan, omdat switchen naar VR de positie reset -->
			<a-entity 
				alongpath="curve: #track1;loop:true; rotate:true"
				camera="userHeight:1.6; fov:73.73" look-controls wasd-controls position="0 1.6 0"
				rotation="-6.6463104235175505 -0.35918311805230981 0">
				<a-entity light="type:point;intensity:1;distance:10;penumbra:1" position="" rotation=""></a-entity>
				<!-- <a-box  position="0 0 -3" color="#ff0000" ></a-box>
				<a-entity cursor="fuse: true;" position="0 0 -1" scale="0.05" geometry="primitive: ring; radiusOuter: 0.004; radiusInner: 0.002; "
				 material="color: magenta; shader: flat">
					<a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" dur="1500" fill="backwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
					<a-animation begin="click" easing="ease-in" attribute="scale" dur="150" fill="forwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
				</a-entity> -->

			</a-entity>
			</a-entity>

			<a-entity sound="src:#music-background"></a-entity>

		</a-scene>
	</section>
</body>

</html>