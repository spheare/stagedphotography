<html>

<head>
	<script src="scripts/webvr-polyfill.js"></script>
	<script src="scripts/aframe.min.js"></script>
	<script src="scripts/aframe-eventset-component.min.js"></script>
	<script src="scripts/aframe-template-component.min.js"></script>
	<script src="scripts/components/automove.js"></script>
	<script src="scripts/components/move-to-portal.js"></script>
	<!-- <script src="scripts/aframe-inspector.min.js"></script> -->

	<!-- <script src="https://unpkg.com/aframe-inspector@0.8.x/dist/aframe-inspector.min.js"></script> -->
	<!-- <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script> -->
	<!-- <script src="https://unpkg.com/aframe-environment-component@1.0.0/dist/aframe-environment-component.min.js"></script> -->
	<!-- <script src="https://unpkg.com/aframe-animation-component@3.2.1/dist/aframe-animation-component.min.js"></script> -->
	<!-- <script src="gpoly.js"></script> -->

</head>

<body>
	<a-scene background="color:#ECECEC" >

		<!-- assets -->
		<a-assets>
			<audio id="click-sound" src="audio/click.ogg"></audio>
			<img id="city" src="assets/background.jpg">
			<audio id="background" src="assets/music/background.mp3" preload="auto"></audio>

			<img id="photoA1" src="assets/photos/photo-1.jpg">
			<img id="photoA2" src="assets/photos/photo-2.jpg">
			<img id="photoA3" src="assets/photos/photo-3.jpg">
			<img id="photoA4" src="assets/photos/photo-4.jpg">
			<img id="photoA5" src="assets/photos/photo-5.jpg">
			<img id="photoA6" src="assets/photos/photo-6.jpg">
			<img id="photoA7" src="assets/photos/photo-7.jpg">
			<img id="photoA8" src="assets/photos/photo-8.jpg">
			<img id="photoA9" src="assets/photos/photo-9.jpg">

			<img id="photoB1" src="assets/photos/photo-10.jpg">
			<img id="photoB2" src="assets/photos/photo-11.jpg">
			<img id="photoB3" src="assets/photos/photo-12.jpg">
			<img id="photoB4" src="assets/photos/photo-13.jpg">
			<img id="photoB5" src="assets/photos/photo-14.jpg">
			<img id="photoB6" src="assets/photos/photo-15.jpg">
			<img id="photoB7" src="assets/photos/photo-16.jpg">
			<img id="photoB8" src="assets/photos/photo-17.jpg">

			<a-asset-item id="box-obj" src="assets/scene.obj"></a-asset-item>
			<a-asset-item id="box-mtl" src="assets/scene.mtl"></a-asset-item>

		</a-assets>

		<!-- template items -->
		<template id="portal" type="text/html">
			<a-cylinder radius="0.5" height="2.0" material="transparent:true; opacity:0.2" color="#ff00ff"></a-cylinder>
			<a-sphere material="transparent:true; opacity:0.5" radius="0.2" color="#00FFff">
				<a-animation easing="ease-out" repeat="indefinite" attribute="scale" dur="1500" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
				<a-animation easing="ease-out" repeat="indefinite" attribute="opacity" dur="1500" from="1" to="0"></a-animation>
			</a-sphere>
		</template>



		<template id="photowall" type="text/html">
			<a-plane position="2.164 2 -0.274" material="side: double;" rotation="0 30 0" width="5" height="4" color="#E0E0E0">
				<!-- <a-entity light="type: spot; intensity: 0.98; distance: 8.16; decay: 0.49; ; penumbra: 0.98; shadowBias: 0.51" position="0.2 0.8 2" rotation="-20 0 0"></a-entity> -->
				<a-box move-to-portal="cameraId:#camera; portalId:#jump-X-${index}" material="src:${image2}; metalness:1" geometry="depth:0.1;height:2;width:3"></a-box>

				<a-entity id="jump-X-${index}" position="0.4 0 2">
					<!-- <a-sphere radius="0.05" color="magenta"></a-sphere> -->
				</a-entity>

			</a-plane>

			<a-plane position="-2.164 2 -0.274" material="side: double;" rotation="0 -30 0" width="5" height="4" color="#E0E0E0">
				<!-- <a-entity light="type: spot; intensity: 0.98; distance: 8.16; decay: 0.49; ; penumbra: 0.98; shadowBias: 0.51" position="0.2 0.8 2" rotation="-20 0 0"></a-entity> -->
				<a-box move-to-portal="cameraId:#camera; portalId:#jump-Y-${index}" material="src:${image1}; metalness:1" geometry="depth:0.1;height:2;width:3"></a-box>

				<a-entity id="jump-Y-${index}" position="0.4 0 2">
					<!-- <a-sphere radius="0.05" color="magenta"></a-sphere> -->
				</a-entity>

			</a-plane>


			<a-entity light="type: point; intensity: 1; distance: 5; penumbra: 1" position="-3.291 3.000 1.696" rotation="-40 0 0"></a-entity>




		</template>




		<template id="click-area" type="text/html">
			<a-sphere material="color:red;  " event-set__enter="_event: mouseenter; color: green;" event-set__leave="_event: mouseleave; color: red;"
			 move-to-portal="cameraId:#camera; portalId:${destination}" radius="0.3"></a-sphere>
		</template>




		<a-box height="1" width="1" depth="1" rotation="0 0 0" position="0 0 0" color="red" material="side:front">
		</a-box> 

		
		<!-- <a-entity id="ambient" light="type:ambient;intensity:0.26;distance:6.02;penumbra:0.37" position="0 0 -10" rotation="-90 0 0"></a-entity> -->
		<a-entity obj-model="obj: #box-obj; mtl: #box-mtl" shadow=""></a-entity>
		
		<a-entity id="spot" light="castShadow: true; type: spot; intensity: 4; distance: 10; penumbra: 1" position="0 5.8 -19" rotation="-90 0 0">
				<a-animation attribute="light.intensity" dur="10000" from="0" to="3" direction="alternate" repeat="indefinite"></a-animation>
		</a-entity>
		<a-entity id="point1" light="castShadow: true; type: point; intensity: 3; distance: 20;" position="10 5 10" rotation="-90 0 0">
			<a-animation attribute="position" dur="10000" from="10 5 10" to="10 5 -0" direction="alternate" repeat="indefinite"></a-animation>
		</a-entity>
		<a-entity id="point2" light="castShadow: true; type: point; intensity: 3; distance: 20;" position="-10 5 10" rotation="-90 0 0">
			<a-animation attribute="position" dur="10000" from="-10 5 10" to="-10 5 -0" direction="alternate" repeat="indefinite"></a-animation>
		</a-entity>

		
		<!-- camera -->
		<!-- <a-entity automove> -->
				<a-camera height="1.7" camera="fov:35;" position="0 1.6 20" rotation="-3.666929888837269 -2.2918311805232805 0" look-controls="pointerLockEnabled:false" wasd-controls="" data-aframe-inspector-original-camera="">
						<a-entity light="type:point;intensity:1;distance:10;penumbra:1" position="" rotation=""></a-entity>
				<!-- <a-box  position="0 0 -3" color="#ff0000" ></a-box>
				<a-entity cursor="fuse: true;" position="0 0 -1" scale="0.05" geometry="primitive: ring; radiusOuter: 0.004; radiusInner: 0.002; "
				 material="color: magenta; shader: flat">
					<a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" dur="1500" fill="backwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
					<a-animation begin="click" easing="ease-in" attribute="scale" dur="150" fill="forwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
				</a-entity> -->

			</a-camera>

		<a-entity sound="src: #background"></a-entity>

	</a-scene>

</body>

</html>